org 000h
mov A,#10000000b ; first bit is 1 so first led to be on 
rightshift:
mov b,#07h ; counter for right shift
loop_1: mov p1,A  ; displays first led
call delay ; calls delay function
RR A ; rotates  the eight bits to right by 1 position
DJNZ b , loop_1 ; keeps on rotating until b becomes 0 and 8th led is on
jmp leftshift ; control goes to this label
leftshift: ; lab
mov b,#07h ; counter for left shifting
loop_2:mov p1,A ;displays 7th led
call delay ; calls delay function
RL A ; rotates the bits one postion to left
DJNZ b , loop_2 ; repeats until 1st led is lit
jmp rightshift ; now control goes back to label for even
delay: mov r0,#04 ; delay function sets the time of delay
here: mov r1,#255 ;register r1 containg 255
again:mov r2,#255 ; register r2 containinf 255
againn:djnz r2,againn ; runs until r2 reaches 0 from 255
djnz r1,again ; goes to outer loop until r1 reaches 0 to 255
djnz r0,here ; when register r0 reaches 0 control goes to here label
ret 
end


